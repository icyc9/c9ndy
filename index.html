<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>c9kid</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="sparkles.css">
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>

  </head>
  <body>
    <audio id="splat" src="./splat.mp3" autoplay="autoplay"></audio>

    <section class="section section--sparkles">
      <div class="sparkles"></div>
    </section>
    <div class="in-middle">
      <img onclick="document.getElementById('splat').play()" class="logo" src="c9-splatter-logo-faster.gif"/>
    </div>
  </body>
  
  <style>
  .logo {
    width: 100%;
    height: auto;
    max-width: 200px;
    cursor: pointer;
  }

  .container {
    display: block;
    margin-left: auto;
    margin-right: auto;
  }

  body {
    margin: 0;
    background-color: #c6f9ff;
  }

  .in-middle {
    flex-direction: column;
    justify-content: center;
    align-items: center;
    display: flex;
    /*height: 100vh;*/
  }

  </style>

  <script>
    var audio = document.getElementById("splat");
    audio.volume = 0.2;

    var sparkleTime = (function($) {

    var $container = $('.sparkles'),
        $sparkle = $('<div class="sparkle"></div>'),
        totalSparkles,
        sparkleDelayRange = 10;
    
    if (window.matchMedia('(max-width: 730px)').matches) {
      totalSparkles = 60;
    } else {
      totalSparkles = 200;
    }

    function init() {
      sprinkleSparkles();
    }

    function sprinkleSparkles() {
      for (var i = 0; i < totalSparkles; i++ ) {
        var size = (i % 2 === 0) ? 'sparkle--small' : '';
        var direction = (i % 3 === 0) ? 'sparkle--left' : '';
        $sparkle
          .clone()
          .css({
            top: (Math.random() * 100) + '%',
            left: (Math.random() * 100) + '%',
            webkitAnimationDelay: (Math.random() * sparkleDelayRange) + 's',
            AnimationDelay: (Math.random() * sparkleDelayRange) + 's'
          })
          .addClass(size)
          .addClass(direction)
          .appendTo($container);
      }
    }

    return {
      init: init
    };
  })(jQuery);

  sparkleTime.init();
  </script>
</html>
